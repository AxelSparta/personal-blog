---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";

const blogs = await getCollection("blogs");
export const prerender = true;
---

<Layout>
	<main class="flex flex-col gap-4 p-4 max-w-2xl mx-auto">
		{
			blogs.map((blog) => {
				const { id, data, slug } = blog;
				return (
					<a
						href={`/blog/${blog.slug}`}
						class="flex flex-col items-center bg-white border border-gray-200 rounded-lg shadow-sm md:max-w-xl hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700"
					>
						<img
							class="w-full max-h-48 object-cover rounded-t-lg md:h-auto md:w-48 md:rounded-none md:rounded-s-lg"
							src={blog.data.img}
							alt=""
						/>
						<div class="flex flex-col justify-between p-4 leading-normal">
							<h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">
								{blog.data.title}
							</h5>
							<p class="mb-3 font-normal text-gray-700 dark:text-gray-400 prose">
								{blog.data.description}
							</p>
						</div>
					</a>
				);
			})
		}
	</main>
</Layout>
